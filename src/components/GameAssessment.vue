<template>
<div class="main-container">
        <h1 class="h1">
            <span>Bilan de d√©pistage</span><span class="mockup"> MOCKUP</span>
        </h1>
        <img src="https://contentsquare-foundation.org/wp-content/themes/tribes-foundations/public/assets/images/rebrand/logo.svg?tv=1.0.0"
            alt="LogoContentsquareFoundation">
        <div id="banner" class="banner">
            <div class="print">
                <h2 class="h2">Vos informations</h2>
                <button primary class="action" @click="print()">Imprimer le rapport</button>
            </div>
            <div>
                <ul class="ul">
                    <li class="listitem">
                        <span class="kidDetail">Nom :</span>
                        <span>
                            <span class="tempText">{{ user.name}}</span>
                            <!-- here goes the variable for the kid's name -->
                        </span>
                    </li>
                    <li class="listitem">
                        <span class="kidDetail">Age:</span>
                        <span>
                            <!-- here goes the variable for the kid's year -->
                            <span class="tempText">{{user.years}}</span>
                            <span> ans et </span>
                        </span>
                        <span class="kidmonth">
                            <!-- here goes the variable for the kid's month -->
                            <span class="tempText">{{user.months}}</span>
                            <span> mois.</span>
                        </span>
                    </li>
                </ul>
            </div>
        </div>
        <div id="banner" class="banner">
            <div class="print">
                <h2 class="h2">Introduction</h2>
            </div>
            <p> Ceci est un test de d√©pistage. <br>
                Cela ne fait pas office de diagnostic. Quel que soit les r√©sultats obtenus, ils ne pourraient remplacer
                l‚Äôavis d‚Äôun professionnel. <br>
                Il s‚Äôagit d‚Äôune indication, mais nous vous invitons √† vous rendre chez un sp√©cialiste du langage pour
                obtenir un diagnostic r√©el en cas de besoin. <br>
                <br>
                Les r√©sultats des jeux permettent d‚Äôavoir une vue d‚Äôensemble sur les comp√©tences langagi√®res et
                cognitives de votre enfant et ainsi d√©pister d‚Äô√©ventuels troubles pouvant indiquer une dyslexie.<br>
                <br>
                La structure de bilan s‚Äôarticule de cette mani√®re :<br>
                Pour chaque exercice, vous trouverez une description de la t√¢che ainsi que des comp√©tences √©valu√©es.
                <br>
                Un tableau vous pr√©sentera ensuite les r√©sultats obtenus, accompagn√©s d‚Äôune explication de ces
                r√©sultats.<br>
                Les r√©sultats sont compar√©s √† une norme, fond√©e sur les scores obtenus par des enfants de la m√™me
                tranche d‚Äô√¢ge, ne pr√©sentant pas de dyslexie.
            </p>
            <div id="banner" class="banner">
                <div class="print">
                    <h2 class="h2">Qu'est ce que la dyslexie ?</h2>
                </div>
                <p> La dyslexie fait partie de la famille des troubles neurod√©veloppemental des apprentissages, tout
                    comme la dyspraxie, la dysgraphie ou encore la dyscalculie. Il s‚Äôagit d‚Äôun trouble du d√©veloppement
                    touchant environ 10% de la population fran√ßaise dont 3 fois plus de gar√ßons que de filles. Son
                    d√©pistage est donc un enjeu majeur de sant√© publique. <br>

                    La dyslexie se manifeste par des difficult√©s lors de l‚Äôacquisition du langage √©crit. La vitesse, la
                    pr√©cision et l‚Äôautomatisation de la lecture sont touch√©s en priorit√©, mais cela peut √©galement nuire
                    √† la compr√©hension d‚Äôun texte √©crit. Les personnes atteintes de dyslexie peuvent aussi montrer des
                    troubles au niveau de la perception des sons et de leur production. <br>

                    On distingue deux types de dyslexie : <br>
                <ul>
                    <li>La dyslexie phonologique, d√©finie par des difficult√©s √† associer une lettre √† un son, rencontr√©e
                        dans 60% des cas.</li>
                    <li>La dyslexie lexicale, caract√©ris√©e par une difficult√© √† reconna√Ætre les mots visuellement, les
                        d√©composer lettre par lettre et les visualiser dans sa t√™te. On observe cette dyslexie chez 30%
                        des personnes touch√©es. </li>
                    <li>Enfin la dyslexie mixte associe les deux formes.</li>
                </ul>
                L‚Äôenjeu de ce trouble du neurod√©veloppement r√©side avant tout dans son d√©pistage. En effet, pour √™tre
                diagnostiqu√© comme dyslexique, l‚Äôenfant doit pr√©senter un retard d‚Äôacquisition du langage d‚Äôau moins 18
                mois, malgr√© un quotient intellectuel dans la norme et sans troubles visuels auditifs ou attentionnels
                associ√©s.<br>
                Ainsi, proposer un d√©pistage d√®s les premiers signes de suspicion et dans l‚Äôattente souvent longue d‚Äôun
                bilan orthophonique permettrait pour les parents de confirmer ou non leur suspicion mais surtout de
                mettre en place des activit√©s et d‚Äôam√©nager les temps et m√©thodes d‚Äôapprentissage autour des difficult√©s
                de l‚Äôenfant. <br>

                Dans l‚Äôattente d‚Äôun diagnostic, nous pouvons vous inviter √† √™tre vigilants aux √©ventuelles difficult√©s
                suivantes : <br>
                <ul>
                    <li>Des difficult√©s √† se concentrer</li>
                    <li>Des difficult√©s √† diff√©rencier des mots graphiquement proches</li>
                    <li>Des difficult√©s √† diff√©rencier des lettres graphiquement proches</li>
                    <li>Des difficult√©s √† manipuler les unit√©s phonologiques et graphologiques</li>
                    <li>Difficult√©s √† √©peler des mots inconnus ou trop longs</li>
                    <li>Des troubles de motricit√©, de coordination et de m√©moire.</li>
                </ul>
                </p>
                <div id="assessment">
                    <h2 class="h2">Description des t√¢ches et R√©sultats</h2>
                </div>
                <div class="print">
                    <h3 class="h3">1. T√¢che de reconnaissance de mots :</h3>
                </div>
                <p id="wordsTask"><span class="task">Description :</span> Lors de cet exercice, deux s√©ries de 6 mots
                    fr√©quents sont pr√©sent√©es. Ils sont √† classer selon 3 cat√©gories : <br>
                <ul>
                    <li>Mots r√©guliers : l‚Äôassociation graph√®me-phon√®me est coh√©rente, c‚Äôest-√†-dire que chaque lettre
                        correspond au son attendu. Il n‚Äôy a pas de pi√®ge.</li>
                    <li>Mots irr√©guliers : l‚Äôassociation graph√®me-phon√®me n‚Äôest pas coh√©rente. </li>
                    <li>Mots non existants : des mots respectant la structure et les r√®gles de la langue fran√ßaise mais
                        n‚Äôexistants pas.</li>
                </ul>
                </p>
                <p id="wordsTask"><span class="task">Comp√©tences √©valu√©es :</span> Cet exercice permet d‚Äô√©valuer les
                    comp√©tences orthographique, phonologique et s√©mantique. Soit la capacit√© √† associer √† un mot un son,
                    un sens et une repr√©sentation visuelle.
                </p>
                <div class="print">
                    <table class="table" aria-labelledby="wordsTableTitle" aria-describedby="wordsTask">
                        <tbody>
                            <tr>
                                <th scope="col" class="colHeader"><span class="sr-only">Score types</span>
                                </th>
                                <th scope="col" class="colHeader">Mots r√©guliers</th>
                                <th scope="col" class="colHeader">Mots irr√©guliers</th>
                                <th scope="col" class="colHeader">Mots non existants</th>
                            <tr>
                            <tr>
                                <th scope="row" class="rowHeader">Score</th>
                                <td class="row result">
                                    <span class="result">
                                        <span class="tempText">{{gameResults.WORD_RECOGNITION ? gameResults.WORD_RECOGNITION.GeneralWords : 0}}</span>
                                        <!-- here goes the variable for the kid's Regular word error percentage -->
                                    </span>
                                </td>
                                <td class="row result">
                                    <span class="result">
                                        <span class="tempText">{{gameResults.WORD_RECOGNITION ? gameResults.WORD_RECOGNITION.IrregularWords : 0}}</span>
                                        <!-- here goes the variable for the kid's Irregular word error percentage -->
                                    </span>
                                </td>
                                <td class="row result">
                                    <span class="result">
                                        <span class="tempText">{{gameResults.WORD_RECOGNITION.WordsWithNoMeaning || 0}}</span>
                                        <!-- here goes the variable for the kid's Logatoma error percentage -->
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="rowHeader">Moyenne norme
                                </th>
                                <td class="row">
                                    <span class="result">
                                        3
                                        <!-- here goes the variable for the Regular word norm rate -->
                                    </span>
                                </td>
                                <td class="row">
                                    <span class="result">
                                        3
                                        <!-- here goes the variable for the Irregular word norm rate -->
                                    </span>
                                </td>
                                <td class="row">
                                    <span class="result">
                                        3.5
                                        <!-- here goes the variable for the Logatoma norm rate -->
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="rowHeader">Ecart-type
                                </th>
                                <td class="row">
                                    <span class="result">
                                        1
                                        <!-- here goes the variable for the Regular word Standard error rate -->
                                    </span>
                                </td>
                                <td class="row">
                                    <span class="result">
                                        1
                                        <!-- here goes the variable for the Regular word Standard error rate -->
                                    </span>
                                </td>
                                <td class="row">
                                    <span class="result">
                                        0.5
                                        <!-- here goes the variable for the Regular word Standard error rate -->
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p id="wordsTask"><span class="task">Interpretation :</span>
                    <p v-if="gameResults.WORD_RECOGNITION.GeneralWords < norms.WordRecognition.GeneralWords || gameResults.WORD_RECOGNITION.IrregularWords < norms.WordRecognition.IrregularWords || gameResults.WORD_RECOGNITION.WordsWithNoMeaning < norms.WordRecognition.WordsWithNoMeaning">Les r√©sultats obtenus par votre enfant indiquent des performances inf√©rieures pour certaines ou
                    toutes les comp√©tences √©valu√©es √† celles attendues pour un enfant de son √¢ge pour ce type
                    d‚Äôexercice.</p>
                    <p v-else >Les r√©sultats obtenus par votre enfant indiquent des performances en coh√©rence avec celles attendues
                    pour un enfant de son √¢ge pour ce type d‚Äôexercice.
					</p>
    
                <div class="print">
                    <h3 class="h3">2. T√¢che de reconnaissance de syllabes :</h3>
                </div>
                <p id="wordsTask"><span class="task">Description :</span> Lors de cet exercice, deux s√©ries de 6
                    syllabes sont pr√©sent√©es. Elles sont √† classer selon 2 cat√©gories : <br>
                <ul>
                    <li>Mots monosyllabiques : des mots existant compos√©s d‚Äôune seule syllabe.</li>
                    <li>Syllabe unique de mots plurisyllabiques : des syllabes extraites de mots plurisyllabiques, mais
                        ne pouvant constituer un mot √† elle seule. </li>
                </ul>
                </p>
                <p id="wordsTask"><span class="task">Comp√©tences √©valu√©es :</span> Cet exercice permet d‚Äô√©valuer les
                    comp√©tences orthographique, phonologique, ainsi que la conscience phonologique. Soit la capacit√© √†
                    associer √† un mot un son et une repr√©sentation visuelle, mais √©galement √† le manipuler pour en cr√©er
                    un nouveau.
                </p>
                <div class="print">
                    <table class="table" aria-labelledby="wordsTableTitle" aria-describedby="wordsTask">
                        <tbody>
                            <tr>
                                <th scope="col" class="colHeader"><span class="sr-only">Score types</span>
                                </th>
                                <th scope="col" class="colHeader">Mots</th>
                                <th scope="col" class="colHeader">Syllabes</th>
                            <tr>
                            <tr>
                                <th scope="row" class="rowHeader">Score</th>
                                <td class="row result">
                                    <span class="result">
                                        <span class="tempText">{{gameResults.SYLLABLE_CLASSIFICATION.Words|| 0}}</span>
                                        <!-- here goes the variable for the kid's Regular word error percentage -->
                                    </span>
                                </td>
                                <td class="row result">
                                    <span class="result">
                                        <span class="tempText">{{gameResults.SYLLABLE_CLASSIFICATION.Syllables|| 0}}</span>
                                        <!-- here goes the variable for the kid's Irregular word error percentage -->
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="rowHeader">Moyenne norme
                                </th>
                                <td class="row">
                                    <span class="result">
                                        5.5
                                        <!-- here goes the variable for the word norm rate -->
                                    </span>
                                </td>
                                <td class="row">
                                    <span class="result">
                                        5.5
                                        <!-- here goes the variable for the syllabes norm rate -->
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="rowHeader">Ecart-type
                                </th>
                                <td class="row">
                                    <span class="result">
                                        0.5
                                        <!-- here goes the variable for the word Standard error rate -->
                                    </span>
                                </td>
                                <td class="row">
                                    <span class="result">
                                        0.5
                                        <!-- here goes the variable for the Syllabes Standard error rate -->
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p id="wordsTask"><span class="task">Interpretation :</span>
                    <p v-if="gameResults.SYLLABLE_CLASSIFICATION < norms.SyllableRecognition">Les r√©sultats obtenus par votre enfant indiquent des performances inf√©rieures pour certaines ou
                    toutes les comp√©tences √©valu√©es √† celles attendues pour un enfant de son √¢ge pour ce type
                    d‚Äôexercice.</p>
                    <p v-else>Les r√©sultats obtenus par votre enfant indiquent des performances en coh√©rence avec celles attendues
                    pour un enfant de son √¢ge pour ce type d‚Äôexercice.</p> 
        
                <div class="print">
                    <h3 class="h3">3. T√¢che de compr√©hension auditivo-verbale :</h3>
                </div>
                <p id="wordsTask"><span class="task">Description :</span>Lors de cet exercice, le participant √©coute une
                    histoire, puis doit r√©pondre √† un ensemble de questions de compr√©hension. <br>
                </p>
                <p id="wordsTask"><span class="task">Comp√©tences √©valu√©es :</span> Cette t√¢che fait appel √† la capacit√©
                    de compr√©hension et nous sert ici de t√¢che contr√¥le. Nous nous attendons √† ce qu‚Äôelle soit r√©ussie
                    par tous les participants car les personnes dyslexiques ne pr√©sentent g√©n√©ralement pas de
                    difficult√©s de compr√©hension associ√©es.
                </p>
                <div class="print">
                    <h4 class="h4">R√©sultats :</h4>
                </div>
                <div> <ul>
                    <li> Score : {{gameResults.AUDITIVE_COMPREHENSION || 0}} </li>
                    <li> Moyenne : 90 </li>
                    <li> Ecart-type : 10 </li>
                    </ul>
                </div>
                <p id="wordsTask"><span class="task">Interpretation :</span>
                   <p v-if="gameResults.AUDITIVE_COMPREHENSION < norms.Comprehension.Mean" >  Les r√©sultats obtenus par votre enfant indiquent des performances inf√©rieures pour certaines ou
                    toutes les comp√©tences √©valu√©es √† celles attendues pour un enfant de son √¢ge pour ce type
                    d‚Äôexercice.</p>
                    <p v-else>Les r√©sultats obtenus par votre enfant indiquent des performances en coh√©rence avec celles attendues
                    pour un enfant de son √¢ge pour ce type d‚Äôexercice.</p> 
                <div class="print">
                    <h3 class="h3">4. T√¢che de mots √©pel√©s √† reconstituer :</h3>
                </div>
                <p id="wordsTask"><span class="task">Description :</span>Lors de cet exercice, le participant entend une
                    liste de 6 mots √©pel√©s lettre apr√®s lettre, la moiti√© √©tant r√©guliers et l‚Äôautre √©tant irr√©guliers.
                    Le participant doit les reconstituer et les √©noncer √† l‚Äôoral l‚Äôun apr√®s l‚Äôautre. <br>
                </p>
                <p id="wordsTask"><span class="task">Comp√©tences √©valu√©es :</span> Cette t√¢che fait appel √† des
                    comp√©tences d‚Äôorthographe, de phonologie, d‚Äôimagerie mentale et de conscience phonologique. Soit la
                    capacit√© √† analyser et manipuler mentalement un ensemble de graph√®mes dans sa globalit√© pour
                    reconna√Ætre et constituer un mot.
                </p>
                <div class="print">
                    <h4 class="h4">R√©sultats :</h4>
                </div>
                <div>
                    <ul>
                        <li> Score : {{gameResults.ORAL_SPELLING || 0}} </li>
                        <li> Moyenne : 90 </li>
                        <li> Ecart-type : 10 </li>
                    </ul>
                </div>
                <p id="wordsTask"><span class="task">Interpretation :</span>
                    <p v-if="gameResults.ORAL_SPELLING < norms.Spelling.Mean"> Les r√©sultats obtenus par votre enfant indiquent des performances inf√©rieures pour certaines ou
                    toutes les comp√©tences √©valu√©es √† celles attendues pour un enfant de son √¢ge pour ce type
                    d‚Äôexercice.</p>
                    <p v-else> Les r√©sultats obtenus par votre enfant indiquent des performances en coh√©rence avec celles attendues
                    pour un enfant de son √¢ge pour ce type d‚Äôexercice.</p>
                <div class="print">
                    <h3 class="h3">Conclusion g√©n√©rale</h3>
                </div>
                <p>Pour rappel, ce jeux est un d√©pistage et non un diagnostique. Pour des r√©sultats plus pr√©cis, nous
                    vous recommandons d'aller voir un sp√©cialiste. <br>
                    Les r√©sultats sugg√®rent que tout va bien mais vous pouvez toujours prendre rendez-vous chez un
                    sp√©cilaiste si vous le souhaitez.<br>
                    A la suite des r√©sultats, nous vous conseillons de prendre rendez-vous chez un sp√©cialiste pour
                    √©tablir un bilan plus complet.<br>
                </p>
            </div>

            <div id="banner" class="banner">
            </div>
            <div class="print">
                <h2 class="h2">Recommandations compl√©mentaires</h2>
            </div>
            <div class="print">
                <h3 class="h3">Recommandation pour les parents</h3>
            </div>
            <p> Nous pouvons √©galement vous recommander de proposer √† votre enfant les am√©nagements suivants : </p>
            <ul>
                <li>Favoriser les activit√©s autour de la musique (√©galement en parascolaire).</li>
                <li>Proposer des activit√©s autour du sport et de la danse pour d√©velopper la coordination.</li>
                <li>Utilisation de l‚Äôextension Readapt adaptant le texte selon le profil et les difficult√©s de l‚Äôenfant.
                </li>
                <li>Ateliers langage propos√©s en ludoth√®ques.</li>
            </ul>
            <div class="print">
                <h3 class="h3">Recommandation pour les enseignants</h3>
            </div>
            <p> De la m√™me mani√®re, des recommandations aupr√®s des instituteurs peuvent participer √† aider votre enfant
                √† progresser √† son rythme. En voici quelques-unes :</p>
            <ul>
                <li>Dicter les consignes √† l‚Äôoral.</li>
                <li>√âviter de faire lire un texte √† haute voix.</li>
                <li>R√©duire la taille des textes √† lire.</li>
                <li>Rallonger le temps allouer √† l‚Äôenfant pour l‚Äôexercice.</li>
                <li>Lui apprendre √† surligner les mots cl√©s.</li>
                <li>Ne pas insister sur l‚Äôentrainement √† la copie.</li>
                <li>Proposer du mat√©riel ludique et a√©r√© en r√©duisant les blocs de texte.</li>
                <li>√âvaluer √† l‚Äôoral autant que possible.</li>
                <li>Cr√©er autant que possible un environnement bienveillant.</li>
            </ul>
            <div class="print">
                <h3 class="h3">Id√©es de jeux √† proposer</h3>
            </div>
            <p> Dans l‚Äôattente d‚Äôun diagnostic, et en compl√©ment de ces am√©nagements, l‚Äôutilisation de jeux √©ducatifs,
                notamment gr√¢ce √† un support mat√©riel et concret permet de mieux appr√©hender des concepts abstraits et
                de faciliter les apprentissages. <br>
                Voici une liste de jeux √† reproduire facilement selon les comp√©tences √† travailler:</p>
            <ul>
                <li>Associer des personnages ou figurines aux lettres de l‚Äôalphabet. L‚Äôenfant peut cr√©er une histoire et
                    des mots avec ses personnages et ainsi manipuler et visualiser les lettres autrement ü°™ conscience
                    phonologique, imagerie mentale, s√©mantique, phonologie et orthographe.</li>
                <li>Cr√©er des anagrammes √† reconstituer ü°™ imagerie mentale et orthographe.</li>
                <li>Couper plusieurs mots en deux ou trois syllabes. Les disposer des deux c√¥t√©s de la feuille et
                    demander √† l‚Äôenfant de relier les deux parties du mot ü°™ imagerie mentale, conscience phonologique
                    et orthographe.</li>
                <li>Disposer plusieurs cartes repr√©sentant des objets et d‚Äôautres cartes avec les 26 lettres de
                    l‚Äôalphabet. Demander √† l‚Äôenfant de donner tous les mots commen√ßant ou se terminant par une lettre
                    pioch√©e dans le tas de cartes ¬´ alphabet ¬ªü°™ phonologie, orthographe, s√©mantique et conscience
                    phonologique.</li>
                <li>Disposer plusieurs syllabes en vrac et demander √† l‚Äôenfant de constituer autant de mots possibles en
                    chenilles ou en scrabble ü°™ orthographe conscience phonologique, s√©mantique et imagerie mentale.
                </li>
                <li>Donner le dernier phon√®me d‚Äôun mot √©nonc√© puis cr√©er un mot commen√ßant par ce phon√®me. ü°™ conscience
                    phonologique, imagerie mentale et orthographe.</li>
                <li>Donner la derni√®re syllabe d‚Äôun mot √©nonc√© puis cr√©er un mot commen√ßant par cette syllabe. ü°™
                    conscience phonologique, imagerie mentale et orthographe.</li>
                <li>Faire deviner un mot par son sens ü°™ S√©mantique et orthographe.</li>
            </ul>
        </div>
    </div>
</template>

<script>
import { computed } from "@vue/composition-api";
import SpellingGames from "./SpellingGames.vue";
import store from "../store";
import json from "../assets/norms/default-norms.json";

export default {
  components: { SpellingGames },
  name: "GameAssessment",
  setup: function () {

    const user = computed(() => store.user.value);
    const gameResults = computed(() => store.gamesResults.value);
    const norms = computed(()=> json);
    return {
      print: () => window.print(),
      user,
      gameResults,
      norms,
    };
  },
};
</script>

<style scoped>
.background {
  background-color: #ffffff;
}
.print {
  display: flex;
  justify-content: space-between;
}

.ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

.tempText {
  font-style: italic;
}

.kidDetail {
  font-weight: bold;
}

.table {
  border: 1px solid #666;
  border-collapse: collapse;
}

.rowHeader {
  padding: 0.5rem;
  border: 1px solid #666;
  text-align: left;
}

.colHeader {
  padding: 0.5rem;
  border: 1px solid #666;
  text-align: left;
  background-color: #e0e0e0;
}

.row {
  padding: 0.5rem;
  border: 1px solid #666;
  text-align: left;
}

.tableTitle {
  text-align: left;
}
.task {
  font-weight: bold;
}
.link {
  color: #143250;
  cursor: pointer;
  text-decoration: underline;
}
.h1 {
  font-size: 32px;
  font-weight: bold;
}
.h2 {
  font-size: 24px;
  font-weight: bold;
}
.h3 {
  font-size: 18px;
  font-weight: bold;
}
.h4 {
  font-size: 16px;
  font-weight: bold;
}

.main-container {
  padding: 5% 10%;
  background-color: var(--colors-gray-white);
  overflow: auto;
  text-align: left;
}
.mockup {
  color: red;
}
</style>
